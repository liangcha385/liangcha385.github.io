import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,b as a,a as t,d as n,o as h}from"./app-Ba8WvPoh.js";const e={},l=t("p",null,"记录对应的解决方案",-1),k=n(`<h1 id="一次简单的故障排查" tabindex="-1"><a class="header-anchor" href="#一次简单的故障排查"><span>一次简单的故障排查</span></a></h1><h2 id="发现问题" tabindex="-1"><a class="header-anchor" href="#发现问题"><span>发现问题</span></a></h2><p>我和别人开了一个 <a href="grassblock.cn">mc 服务器</a>，我负责给服务器配置后端转发</p><p>自己按照相关文档瞎整一遍发现出问题了</p><p>首先是 <strong>连接超时</strong> ，此时认为是我网络问题（因为当时网络环境确实很糟糕），随后我便安装了 <a href="https://modrinth.com/plugin/raknetify" target="_blank" rel="noopener noreferrer">raknetify</a> 这个插件来改善我与服务器的连接</p><p>在我刷二十多分钟手机之后发现一直卡在 <strong>通讯加密中</strong> 这个阶段，我发现问题不止是我网不好这么简单...</p><h2 id="问题排查" tabindex="-1"><a class="header-anchor" href="#问题排查"><span>问题排查</span></a></h2><p><em>以前压根没碰到过这种问题，所以只能一步一步来</em></p><p>紧接着我去问了群友能不能进，得到的答复一样都是卡在 <strong>连接超时</strong> 或者 <strong>通讯加密中</strong></p><p>此时我去后台查看运行记录，发现都是很正常的连接超时</p><p>正常连接超时</p><div class="language-log line-numbers-mode" data-highlighter="shiki" data-ext="log" data-title="log" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:13:41</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> liangcha385&#39;s hasJoined verification order: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:13:41</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [MultiLogin Flows #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> --&gt; GET </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">https://sessionserver.mojang.com/session/minecraft/hasJoined?username=liangcha385&amp;serverId=-6095a39c02b81ddbc5b14ad971b0e1b0841f7b64</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:13:41</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [MultiLogin Flows #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &lt;-- </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">200</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> https://sessionserver.mojang.com/session/minecraft/hasJoined?username=liangcha385&amp;serverId=-6095a39c02b81ddbc5b14ad971b0e1b0841f7b64</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (416ms)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:13:41</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [MultiLogin Flows #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &lt;-- (</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1551</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> bytes)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:13:41</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: liangcha385(uuid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">bcd78a03-0c12-4fe0-9f9f-9f8eee971795</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) from authentication service Official(yid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) has been authenticated, profile redirected to liangcha385(uuid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">bcd78a03-0c12-4fe0-9f9f-9f8eee971795</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:13:41</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> Skin restore result of liangcha385 is NO_RESTORER.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:14:11</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#E06C75;">ERROR</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">com.velocitypowered.proxy.connection.MinecraftConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]: [initial connection] /</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">121</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">240</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">179:50678</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: read timed out</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:14:11</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">com.velocitypowered.proxy.connection.MinecraftConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]: [initial connection] /</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">121</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">240</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">179:50678</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> has disconnected</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 raknetify 连接失败</p><div class="language-log line-numbers-mode" data-highlighter="shiki" data-ext="log" data-title="log" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:16:21</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> liangcha385&#39;s hasJoined verification order: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:16:21</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [MultiLogin Flows #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> --&gt; GET </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">https://sessionserver.mojang.com/session/minecraft/hasJoined?username=liangcha385&amp;serverId=628dc776d1ade0828578078507b3ccf5c2b26fbf</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:16:22</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [MultiLogin Flows #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &lt;-- </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">200</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> https://sessionserver.mojang.com/session/minecraft/hasJoined?username=liangcha385&amp;serverId=628dc776d1ade0828578078507b3ccf5c2b26fbf</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (586ms)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:16:22</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [MultiLogin Flows #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> &lt;-- (</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1551</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> bytes)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:16:22</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: liangcha385(uuid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">bcd78a03-0c12-4fe0-9f9f-9f8eee971795</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) from authentication service Official(yid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) has been authenticated, profile redirected to liangcha385(uuid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">bcd78a03-0c12-4fe0-9f9f-9f8eee971795</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">).</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:16:22</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [multilogin]: </span><span style="--shiki-light:#E36209;--shiki-dark:#ABB2BF;">[DEBUG]</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> Skin restore result of liangcha385 is NO_RESTORER.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:16:22</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [raknetify]: Preventing vanilla compression as streaming compression is enabled</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:16:22</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [raknetify]: Preventing vanilla compression as streaming compression is enabled</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">15:21:46</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [Netty NIO Worker #</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#98C379;">INFO</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] [</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">com.velocitypowered.proxy.connection.MinecraftConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]: [initial connection] /</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">121</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">240</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">179:50780</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> has disconnected</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>另外 raknetify 貌似没设置超时时间，导致我的账号是撑的最久的一个</em></p><p>无论我的客户端版本是否符合要求，一直都处于 <strong>通讯加密中</strong> 阶段，换回 1.21 客户端也是如此</p><p>我认为是插件问题，于是我使用二分法排查插件故障</p><p>测试使用客户端 1.21-Fabric0.15.11 与 1.20.6-Fabric0.15.11</p><p>首先是插件全部卸载，包括转发端（Velocity）与后端服务器（Leaf 1.21），测试结果全部按预期执行</p><p>附预期行为截图</p><p><img src="https://img.picui.cn/free/2024/07/06/6688f31f6ab1d.png" alt="Minecraft_ 1.20.6" loading="lazy"> <img src="https://img.picui.cn/free/2024/07/06/6688f31fdeb1d.png" alt="Minecraft_ 1.21" loading="lazy"></p><p>既然在无修改前提下没有问题，那基本可以断定是某一个插件造成的问题</p><p>异常顺利的是我一下子就找到问题插件了，是 <a href="https://modrinth.com/plugin/signedvelocity" target="_blank" rel="noopener noreferrer">SignedVelocity</a> 和 它的前置 <a href="https://modrinth.com/plugin/packetevents" target="_blank" rel="noopener noreferrer">PacketEvents</a> 的问题</p><p>但是我并不打算一刀切，于是我打算尝试再次使用二分法查出来是哪个插件在作妖</p><h2 id="问题修复" tabindex="-1"><a class="header-anchor" href="#问题修复"><span>问题修复</span></a></h2><p>由于 SignedVelocity 与 PacketEvents 之间存在依赖关系，需要计划好如何在它们不会无法加载的情况下排除</p><p>我的计划是</p><ol><li>首先安装 PacketEvents 插件，若运行正常就是 SignedVelocity 的问题，若运行失败就是自身问题</li><li>如果 PacketEvents 运行失败，更换为 SignedVelocity 的另一个前置 <a href="https://modrinth.com/plugin/vPacketEvents" target="_blank" rel="noopener noreferrer">VPacketEvents</a> 后令其单独运行，若运行失败则 SignedVelocity 无法使用</li><li>若 VPacketEvents 运行成功，加上 SignedVelocity 后再次运行，若运行失败则 SignedVelocity 无法使用</li></ol><p>说干就干，毕竟这可影响到服务器是否能正常游玩</p><p>不出意外，在第一步时 PacketEvents 插件便出现问题无法使用，那我们只能接着往下执行</p><figure><img src="https://img.picui.cn/free/2024/07/06/6688f953d8d95.png" alt="Minecraft_ 1.21 2024_7_6 16_01_06.png" tabindex="0" loading="lazy"><figcaption>Minecraft_ 1.21 2024_7_6 16_01_06.png</figcaption></figure><p>最后，在各项排查之后发现是 PacketEvents 插件问题，呼又是无聊排错的一天...</p>`,32);function p(r,d){return h(),s("div",null,[l,a(" more "),k])}const o=i(e,[["render",p],["__file","1.html.vue"]]),y=JSON.parse('{"path":"/posts/minecraft/1.html","title":"一次简单的故障排查","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2024-07-06T00:00:00.000Z","category":["Minecraft"],"tag":["瞎折腾"],"description":"记录对应的解决方案","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/posts/minecraft/1.html"}],["meta",{"property":"og:site_name","content":"凉茶的温馨小屋"}],["meta",{"property":"og:title","content":"一次简单的故障排查"}],["meta",{"property":"og:description","content":"记录对应的解决方案"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.picui.cn/free/2024/07/06/6688f31f6ab1d.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-06T08:08:53.000Z"}],["meta",{"property":"article:author","content":"liangcha385"}],["meta",{"property":"article:tag","content":"瞎折腾"}],["meta",{"property":"article:published_time","content":"2024-07-06T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-06T08:08:53.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"一次简单的故障排查\\",\\"image\\":[\\"https://img.picui.cn/free/2024/07/06/6688f31f6ab1d.png\\",\\"https://img.picui.cn/free/2024/07/06/6688f31fdeb1d.png\\",\\"https://img.picui.cn/free/2024/07/06/6688f953d8d95.png\\"],\\"datePublished\\":\\"2024-07-06T00:00:00.000Z\\",\\"dateModified\\":\\"2024-07-06T08:08:53.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"liangcha385\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"发现问题","slug":"发现问题","link":"#发现问题","children":[]},{"level":2,"title":"问题排查","slug":"问题排查","link":"#问题排查","children":[]},{"level":2,"title":"问题修复","slug":"问题修复","link":"#问题修复","children":[]}],"git":{"createdTime":1720246025000,"updatedTime":1720253333000,"contributors":[{"name":"凉茶是帅哥","email":"108937242+liangcha385@users.noreply.github.com","commits":2}]},"readingTime":{"minutes":3.48,"words":1045},"filePathRelative":"posts/minecraft/1.md","localizedDate":"2024年7月6日","excerpt":"<p>记录对应的解决方案</p>\\n","autoDesc":true}');export{o as comp,y as data};
